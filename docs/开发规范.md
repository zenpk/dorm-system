# 开发规范

## 命名规范

### 示例：

1. PascalCase: `FindUserById()`, `HTTPAddress`
2. camelCase: `parseInt()`, `userId`
3. snake_case: `init_db.go`, `user_info`

### 规范

1. 目录名：
    1. snake_case
2. 包名:
    1. camelCase，单数，尽量只用一个小写单词
3. 文件名：
    1. snake_case，单数
4. 函数名：
    1. 可导出函数：PascalCase
    2. 内部函数：camelCase
5. 变量名
    1. 普通变量：camelCase，单数
    2. 全局变量 / 常量：PascalCase，单数
    3. slice：复数
6. 结构体
    1. 结构体名 / 结构体内部变量名：PascalCase，单数

## 代码规范

### 注释

文字代码注释`//`前后各一空格，中英文之间以空格分隔

注释掉的代码`//`后可不加空格

函数注释写在函数上方，以函数名开头，示例：

```go
// FindById 根据 id 查找用户
func FindById(userId int64) (User, error) {
...
}
```

### 空行

函数之间空一行

代码文件最后留一行空行

### 日志

所有函数返回的`error`**不能忽略**，均使用 zap **记入日志**并返回相应信息给前端

### 方法命名（试行）

所有导出的方法均需设置为结构体实例方法，且命名不包含结构体，例如

示例 1 (DAL 层)

```go
type User struct{
...
}

// 正确
func (u *User) FindById(userId int64) (User, error) {
...
}

// 错误
func FindUserById(userId int64) (User, error) {
...
}

// 不推荐
func (u *User) FindUserById(userId int64) (User, error) {
...
}

```

示例 2 (Service 层)

```go
type UserInfo struct{
...
}

// 正确
func (u *UserInfo) GetMyInfo(c *gin.Context) {
...
}

// 错误
func GetMyInfo(c *gin.Context) {
...
}
```

### 顺序

所有私有方法放在可导出方法的**下方**

dto 中`resp`放在`req`的**下方**，同一个路由的请求放在一起，例如：

```go
type AddUserReq struct{}
type AddUserResp struct{}
type UpdateUsersReq struct{}
type UpdateUsersResp struct{}
```
